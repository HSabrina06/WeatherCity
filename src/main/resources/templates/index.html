<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>Current Weather</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
    <!--DataTable -->
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.24/css/dataTables.bootstrap5.min.css">


</head>
<body>
<nav class="navbar navbar-expand-lg navbar-dark bg-dark static-top">
    <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        <li class="nav-item">
            <a class="nav-link disabled" href="/" tabindex="-1" aria-disabled="true"> NetworkYazilim </a>
        </li>
        <li class="nav-item">
            <a class="nav-link active" aria-current="page" href="/">Home</a>
        </li>
        <!--   <li class="nav-item">
               <a class="nav-link" href="#">Link</a>
           </li>-->
    </ul>
</nav>
<!--    <a class="nav-link active" aria-current="page" href="#">Home</a>-->

<!--Container -->
<div class="container">
    <div class="md-3">
        <br>
        <h1><img class="img-reponsive"
                 src="https://image.freepik.com/vecteurs-libre/ensemble-icones-meteo-moderne-collection-symboles-signe-previsions-meteorologiques_93083-370.jpg"
                 Style="width:120px"/> Current Weather City </h1>
    </div>
    <!--<form action="#" th:action="@{/}" th:object="${weather}" method="post">-->
    <div class="row">
        <div class="col-md-6 ">
            <form class="form-inline md-4" action="/weather" method="post">
                <div class="form-group mb-2">
                    <hr>
                    <br><b><p Style="color:red" th:text="${error}"></p></b>
                    <input type="text" required class="form-control" id="city" name="city" aria-describedby="cityHelp"
                           placeholder=" City :  London">

                </div>
                <div class="form-group mb-2">
                    <small id="cityHelp" class="form-text text-muted">Please put the first letter in <b> Capital
                        letters .</b></small>
                </div>
                <div class="form-group mb-2">
                    <button type="submit" class="btn btn-primary">Get Weather</button>
                    <button type="reset" class="btn btn-dark">Reset</button>
                    <hr>
                </div>
                <!-- <p><input  type="submit" value="Submit" /> <input type="reset" value="Reset" /></p>-->
            </form>
        </div>

        <div class="col-md-6">
            <table class="table" th:each="p:${weather_data}">
                <thead class="table-dark">
                <th th:text="${p.city}"></th>
                <th th:text="${p.country}"/>
                </th>
                <th></th>
                </thead>
                <tbody>
                <tr>
                    <td>temperature</td>
                    <td th:with="result=${p.temperature - 273.15F}">
                        <span th:text="${result}+' Â°C'"> </span>
                    </td>
                    <td th:text="${p.temperature}"></td>
                </tr>
                <tr>
                    <td>humidity</td>
                    <td th:text="${p.humidity}+'%'"></td>


                    <td rowspan="5"><img th:src="'http://openweathermap.org/img/wn/'+ ${p.icon} + '@4x.png'"></td>
                </tr>
                <tr>
                    <td>speed</td>
                    <td th:text="${p.speed}"/>

                </tr>
                <tr>
                    <td>Description</td>
                    <td th:text="${p.description}"/>

                </tr>
                <tr>
                    <td>main</td>
                    <td th:switch="${p.main}">
                        <p th:case="'Rain'"><span class="badge bg-primary" th:text="${p.main}"></span></p>
                        <p th:case="'Drizzle'"><span class="badge bg-secondary" th:text="${p.main}"></span></p>
                        <p th:case="'Clear'"><span class="badge bg-success" th:text="${p.main}"></span></p>
                        <p th:case="'Clouds'"><span class="badge bg-danger" th:text="${p.main}"></span></p>
                        <p th:case="'Snow'"><span class="badge bg-warning text-dark" th:text="${p.main}"></span></p>
                        <p th:case="*"><span class="badge bg-info text-dark" th:text="${p.main}"/></p>
                    </td>

                </tr>
                <tr>
                    <td>deg</td>
                    <td th:text="${p.deg}"/>

                    <!-- "+${p.icon}+ "-->
                </tr>
                <tr>
                    <td>icon</td>
                    <td th:text="${p.icon}"/>

                </tr>

                </tbody>
            </table>

        </div>
        <div class="row">
            <h4> Latest weather : </h4>
        </div>
        <th class="row">
            <table id="example" class="table table-striped" style="width:100%">
                <thead>
                <tr>
                    <th>City</th>
                    <th>Country</th>
                    <th>Date</th>
                    <th>Main</th>
                    <th>Speed</th>
                    <th>Temperature</th>
                    <th>Humidity</th>
                    <th>Deg</th>
                    <th>Icon</th>
                    <th>Description</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="p:${weather_data_city}">
                    <td th:text="${p.city}"/>
                    <td th:text="${p.country}"/>
                    <td th:text="${p.date}"/>

                    <td th:switch="${p.main}">
                        <p th:case="'Rain'"><span class="badge bg-primary" th:text="${p.main}"></span></p>
                        <p th:case="'Drizzle'"><span class="badge bg-secondary" th:text="${p.main}"></span></p>
                        <p th:case="'Clear'"><span class="badge bg-success" th:text="${p.main}"></span></p>
                        <p th:case="'Clouds'"><span class="badge bg-danger" th:text="${p.main}"></span></p>
                        <p th:case="'Snow'"><span class="badge bg-warning text-dark" th:text="${p.main}"></span></p>
                        <p th:case="*"><span class="badge bg-info text-dark" th:text="${p.main}"/></p>
                    </td>
                    <td th:text="${p.speed}"/>
                    <td th:text="${p.temperature}"/>
                    <td th:text="${p.humidity}"/>
                    <td th:text="${p.deg}"/>
                    <td th:text="${p.icon}"/>
                    <td th:text="${p.description}"/>
                </tr>
                </tbody>
            </table>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0"
        crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.6.0/dist/umd/popper.min.js"
        integrity="sha384-KsvD1yqQ1/1+IA7gi3P0tyJcT3vR+NdBTt13hSJ2lnve8agRGXTTyNaBYmCR/Nwi"
        crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.min.js"
        integrity="sha384-nsg8ua9HAw1y0W1btsyWgBklPnCUAFLuTMS2G72MMONqmOymq585AcH49TLBQObG"
        crossorigin="anonymous"></script>


<!--DataTable -->
<script src="https://code.jquery.com/jquery-3.5.1.js"></script>
<script src="https://cdn.datatables.net/1.10.24/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.10.24/js/dataTables.bootstrap5.min.js"></script>
<script>
    /*  $(function() {
          $("#navigation").load("./navigation.html");
      });*/
</script>
<script>
    $(document).ready(function () {
        $('#example').DataTable();
    });

</script>
</body>
</html>